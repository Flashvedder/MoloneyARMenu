<!doctype html>
<html>
    <head>
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
        <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
        <script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
        <script src="https://raw.githack.com/AR-js-org/studio-backend/master/src/modules/marker/tools/gesture-detector.js"></script>
        <script src="https://raw.githack.com/AR-js-org/studio-backend/master/src/modules/marker/tools/gesture-handler.js"></script>
        <script>
            // JavaScript to switch models when a dish is tapped
            function switchModel(clickedModel) {
                const models = ['durum', 'bravas', 'pizza', 'cake', 'burger'];
                models.forEach((model) => {
                    const element = document.getElementById(model);
                    // If the model clicked matches the model in question, make it visible
                    element.setAttribute('visible', model === clickedModel);
                });
            }
        </script>
    </head>

    <body style="margin: 0; overflow: hidden;">
        <a-scene
            vr-mode-ui="enabled: false;"
            loading-screen="enabled: false;"
            renderer="logarithmicDepthBuffer: true;"
            arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
            id="scene"
            embedded
            gesture-detector
        >
            <a-assets>
                <!-- Loading your GLB files -->
                <a-asset-item id="durum-model" src="assets/durum.glb"></a-asset-item>
                <a-asset-item id="bravas-model" src="assets/bravas.glb"></a-asset-item>
                <a-asset-item id="pizza-model" src="assets/pizza.glb"></a-asset-item>
                <a-asset-item id="cake-model" src="assets/cake.glb"></a-asset-item>
                <a-asset-item id="burger-model" src="assets/burger.glb"></a-asset-item> <!-- Added Burger -->
            </a-assets>

            <!-- Marker with AR -->
            <a-marker id="animated-marker" type="pattern" preset="custom" url="assets/marker.patt" raycaster="objects: .clickable" emitevents="true" cursor="fuse: false; rayOrigin: mouse;">
                <!-- Models with gesture handler for switching -->
                <a-entity id="durum" gltf-model="#durum-model" scale="0.5 0.5 0.5" position="0 0 0" visible="true" class="clickable" gesture-handler="tap: switchModel('durum')"></a-entity>
                <a-entity id="bravas" gltf-model="#bravas-model" scale="0.5 0.5 0.5" position="0 0 0" visible="false" class="clickable" gesture-handler="tap: switchModel('bravas')"></a-entity>
                <a-entity id="pizza" gltf-model="#pizza-model" scale="0.5 0.5 0.5" position="0 0 0" visible="false" class="clickable" gesture-handler="tap: switchModel('pizza')"></a-entity>
                <a-entity id="cake" gltf-model="#cake-model" scale="0.5 0.5 0.5" position="0 0 0" visible="false" class="clickable" gesture-handler="tap: switchModel('cake')"></a-entity>
                <a-entity id="burger" gltf-model="#burger-model" scale="0.5 0.5 0.5" position="0 0 0" visible="false" class="clickable" gesture-handler="tap: switchModel('burger')"></a-entity> <!-- Added Burger -->
            </a-marker>

            <a-entity camera></a-entity>
        </a-scene>

        <!-- Social Media Buttons -->
        <div style="position: absolute; bottom: 20px; left: 20px; z-index: 999;">
            <a href="https://wa.link/wj3128" target="_blank">
                <img src="assets/whatsapp.png" alt="WhatsApp" style="width: 50px; height: 50px; margin-right: 10px;">
            </a>
            <a href="https://www.instagram.com/moloney_animation?igsh=YWg0djl2eXl5ZHpi&utm_source=qr" target="_blank">
                <img src="assets/instagram.png" alt="Instagram" style="width: 50px; height: 50px;">
            </a>
        </div>
    </body>
</html>
